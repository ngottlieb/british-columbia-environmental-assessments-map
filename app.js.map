{"version":3,"sources":["app/components/App.js","app/components/EAOMap.js","app/components/FilterBox.js","app/components/ProjectMarker.js","app/initialize.js"],"names":["App","props","React","Component","L","Icon","Default","imagePath","EAOMap","state","projects","currProjects","latlng","lat","lng","zoom","applyFilter","bind","fetchData","self","fetch","then","response","json","j","setState","filteredProjects","filter","proj","type","decision","eacDecision","phase","currentPhase","name","startDate","decisionDate","endDate","newProjects","options","types","map","p","typeOptions","Set","decisions","decisionOptions","length","phases","phaseOptions","position","access_token","optionsForFilters","ProjectMarkers","items","id","display","FilterBox","handleInputChange","handleDateChange","event","target","value","checked","console","log","updateFilter","updates","newFilter","Object","assign","day","modifiers","input","getInput","trim","optionsForFilter","attribute","opt","push","FilterSelect","onChange","label","ProjectMarker","lon","projectIcon","description","projectUrl","code","iconUrl","includes","icon","document","addEventListener","ReactDOM","render","getElementById"],"mappings":"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","file":"public/app.js","sourcesContent":["import React from 'react';\nimport EAOMap from './EAOMap';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div id='app'>\n        <EAOMap />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Map, Marker, Popup, TileLayer, Pane } from 'react-leaflet';\nimport ProjectMarker from './ProjectMarker';\nimport L from 'leaflet';\nimport FilterBox from './FilterBox';\nimport moment from 'moment';\n\nL.Icon.Default.imagePath =\n  '//cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.4/images/';\n\nexport default class EAOMap extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      projects: [],\n      currProjects: [],\n      latlng: {\n        lat: 55.4085,\n        lng: -125.0257\n      },\n      zoom: 6\n    }\n    this.applyFilter = this.applyFilter.bind(this);\n    this.fetchData();\n  }\n\n  fetchData() {\n    var self = this;\n    fetch(\"https://cors-anywhere.herokuapp.com/https://projects.eao.gov.bc.ca/api/projects/published\")\n      .then(function(response) { return response.json(); })\n      .then(function(j) { self.setState({ projects: j, currProjects: self.filteredProjects(j, {}) }) });\n  }\n\n  filteredProjects(projects, filter) {\n    return projects.filter(function(proj) {\n      // check each condition and return false if it doesn't meet the test\n      if (filter.type && filter.type !== proj.type) { return false; }\n      if (filter.decision && filter.decision !== proj.eacDecision) { return false; }\n      if (filter.phase && filter.phase !== proj.currentPhase.name) {return false; }\n\n      if (filter.startDate) {\n        if (moment(filter.startDate) > moment(proj.decisionDate)) {\n          return false;\n        }\n      }\n      if (filter.endDate) {\n        if (moment(filter.endDate) < moment(proj.decisionDate)) {\n          return false;\n        }\n      }\n      return true;\n    });\n  }\n\n  applyFilter(filter) {\n    const newProjects = this.filteredProjects(this.state.projects, filter);\n    this.setState({\n      currProjects: newProjects\n    });\n  }\n\n  optionsForFilters() {\n    var options = {};\n    // type options\n    const types = this.state.projects.map(function(p) { return p.type; });\n    options.typeOptions = new Set(types)\n\n    var decisions = this.state.projects.map(function(p) { return p.eacDecision; });\n    options.decisionOptions = new Set(decisions.filter(\n      function(p) { \n        if (p) {\n          return p.length > 0;\n        } else {\n          return false;\n        }}));\n    \n    var phases = this.state.projects.map(function(p) { return p.currentPhase.name; });\n    options.phaseOptions = new Set(phases);\n\n    return options;\n  }\n\n\n  render() {\n    const position = this.state.latlng;\n    const zoom = this.state.zoom;\n    const access_token = 'pk.eyJ1IjoibmdvdHRsaWViIiwiYSI6ImNqOW9uNGRzYTVmNjgzM21xemt0ZHVxZHoifQ.A6Mc9XJp5q23xmPpqbTAcQ'\n    const map = (\n      <div>\n        <Map center={position} zoom={zoom}>\n          <TileLayer\n            url='https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}'\n            accessToken={access_token}\n            id=\"mapbox.outdoors\"\n            attribution=\"data <a href='https://projects.eao.gov.bc.ca/'>courtesy of the BC government</a>\"\n            minZoom={5}\n          />\n          <ProjectMarkers projects={this.state.currProjects} />\n        </Map>\n        <FilterBox\n          optionsForFilters={this.optionsForFilters()}\n          applyFilter={this.applyFilter}\n        />\n      </div>\n    );\n    return map;\n  }\n}\n\nconst ProjectMarkers = ({ projects }) => {\n  const items = projects.map((props) => (\n    <ProjectMarker key={props.id} {...props} />\n  ));\n\n  return <div style={{ display: 'none' }}>{items}</div>\n}\n","import React from 'react';\nimport { MapControl } from 'react-leaflet';\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\nimport moment from 'moment';\nimport { Well, Form, FormGroup, FormControl, ControlLabel, Col } from 'react-bootstrap';\n\n\nexport default class FilterBox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filter: {\n      }\n    }\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleDateChange = this.handleDateChange.bind(this);\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    console.log(name + \" \" + value);\n    this.updateFilter({ [name]: value });\n  }\n\n  updateFilter(updates) {\n    var newFilter = Object.assign({}, this.state.filter);\n    Object.assign(newFilter, updates);\n    console.log(newFilter);\n    this.setState({\n      filter: updates\n    });\n    this.props.applyFilter(newFilter);\n  }\n\n  handleDateChange(day, modifiers, input) {\n    const target = input.getInput();\n    const name = target.name;\n    const value = target.value.trim();\n    this.updateFilter({ [name]: value });\n  }\n\n  render() {\n\n    return (\n      <Well className='filter-box leaflet-top leaflet-control leaflet-right'>\n        <h3>Filter Results</h3>\n        <Form>\n          <FilterSelect\n            attribute=\"type\"\n            value={this.state.filter.type}\n            onChange={this.handleInputChange}\n            label=\"Project Type\"\n            options={this.optionsForFilter(\"type\")}\n          />\n\n          <FilterSelect\n            attribute=\"decision\"\n            value={this.state.filter.decision}\n            onChange={this.handleInputChange}\n            label=\"Decision Status\"\n            options={this.optionsForFilter(\"decision\")}\n          />\n\n          <FilterSelect\n            attribute=\"phase\"\n            value={this.state.filter.phase}\n            onChange={this.handleInputChange}\n            label=\"Phase\"\n            options={this.optionsForFilter(\"phase\")}\n          />\n\n          <label>Start Date:</label> \n          <DayPickerInput\n            onDayChange={this.handleDateChange}\n            value={this.state.filter.startDate}\n            inputProps={ { name: 'startDate' } }\n          />\n          <label>End Date:</label>\n          <DayPickerInput\n            onDayChange={this.handleDateChange}\n            value={this.state.filter.endDate}\n            inputProps={ { name: 'endDate' } }\n          />\n        </Form>\n      </Well>\n    );\n  }\n\n  optionsForFilter(attribute) {\n    const options = [];\n    for (let opt of this.props.optionsForFilters[attribute + \"Options\"]) {\n      options.push(<option value={opt}>{opt}</option>);\n    }\n    return(options);\n  }\n\n}\n\nconst FilterSelect = ({ attribute, value, onChange, label, options }) => {\n  return (\n    <FormGroup controlId={attribute}>\n      <ControlLabel>{label}</ControlLabel>\n      <FormControl\n        componentClass=\"select\"\n        value={value}\n        onChange={onChange}\n        name={attribute}\n      >\n        <option value=\"\">All</option>\n        {options}\n      </FormControl>\n    </FormGroup>\n  );\n}\n\n","import { Marker, Popup } from 'react-leaflet';\nimport React from 'react';\nimport L from 'leaflet';\n\nexport default class ProjectMarker extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <Marker position={[this.props.lat, this.props.lon]} icon={this.projectIcon()}>\n        <Popup>\n          <h3>{this.props.name}</h3>\n          <p>{this.props.description}</p>\n          <a target=\"_blank\" href={this.projectUrl()}>More Info</a>\n        </Popup>\n      </Marker>\n    );\n  }\n\n  projectUrl() {\n    return \"https://projects.eao.gov.bc.ca/p/\" + this.props.code + \"/detail\";\n  }\n\n  // icons courtesy of https://mapicons.mapsmarker.com/\n  projectIcon() {\n    var iconUrl;\n    switch(this.props.type) {\n      case 'Mines':\n        iconUrl = 'images/mine-icon.png';\n        break;\n      case 'Energy-Electricity':\n        if (this.props.name.includes(\"Hydro\")) {\n          iconUrl = 'images/dam-icon.png';\n        } else if (this.props.name.includes(\"Wind\")) {\n          iconUrl = 'images/wind-icon.png';\n        } else {\n          iconUrl = 'images/power-icon.png';\n        }\n        break;\n      case 'Transportation':\n        iconUrl = 'images/road-icon.png';\n        break;\n      case 'Energy-Petroleum & Natural Gas':\n        iconUrl = 'images/oil-icon.png';\n        break;\n      case 'Water Management':\n        iconUrl = 'images/water-management-icon.png';\n        break;\n      case 'Waste Disposal':\n        iconUrl = 'images/waste-icon.png';\n        break;\n      case 'Tourist Destination Resorts':\n        iconUrl = 'images/tourism-icon.png';\n        break;\n      case 'Industrial':\n        iconUrl = 'images/industry-icon.png';\n        break;\n      default:\n        iconUrl = 'images/marker-icon.png';\n        break;\n    }\n\n    var icon = L.icon({ iconUrl: iconUrl });\n    return(icon);\n  }\n}\n","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport App from 'components/App';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  ReactDOM.render(<App />, document.getElementById('container'));\n});\n"]}